
Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-x5hbw[0m
{"level":"warn","ts":1569337356.7354438,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1569337356.763554,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-6ftkv[0m
{"level":"warn","ts":1569337357.7428005,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1569337357.9247687,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source /workspace/source/charts/jenkins-x-quickstart-liberty-2\""}

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-sdaschner-jenkins-x-quickstart-x9ggt[0m
{"level":"warn","ts":1569337372.696435,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1569337374.5986717,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/*********/jenkins-x-quickstart-liberty-2.git @ v1.0.18 in path /workspace/source"}

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:5d7551303e9fafdc56469cc471844fa1be387a8a
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-deploy[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] ----< io.openliberty.samples:io.openliberty.sample.getting.started >----
[INFO] Building io.openliberty.sample.getting.started 1.0.18
[INFO] --------------------------------[ war ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ io.openliberty.sample.getting.started ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ io.openliberty.sample.getting.started ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ io.openliberty.sample.getting.started ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 7 source files to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ io.openliberty.sample.getting.started ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ io.openliberty.sample.getting.started ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /workspace/source/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ io.openliberty.sample.getting.started ---
[INFO] 
[INFO] --- maven-war-plugin:3.2.2:war (default-war) @ io.openliberty.sample.getting.started ---
[INFO] Packaging webapp
[INFO] Assembling webapp [io.openliberty.sample.getting.started] in [/workspace/source/target/getting-started]
[INFO] Processing war project
[INFO] Copying webapp resources [/workspace/source/src/main/webapp]
[INFO] Webapp assembled in [125 msecs]
[INFO] Building war: /workspace/source/target/getting-started.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ io.openliberty.sample.getting.started ---
[INFO] Installing /workspace/source/target/getting-started.war to /home/jenkins/.mvnrepository/io/openliberty/samples/io.openliberty.sample.getting.started/1.0.18/io.openliberty.sample.getting.started-1.0.18.war
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/io/openliberty/samples/io.openliberty.sample.getting.started/1.0.18/io.openliberty.sample.getting.started-1.0.18.pom
[INFO] 
[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ io.openliberty.sample.getting.started ---
[INFO] Using alternate deployment repository local-nexus::default::http://nexus/repository/maven-releases/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  18.396 s
[INFO] Finished at: 2019-09-24T15:03:24Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-liberty-integration-test[0m
doing integration test

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v0.37.0

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image open-liberty:javaee8-java12 
ERROR: logging before flag.Parse: E0924 15:03:31.401779       8 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E0924 15:03:31.404540       8 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/09/24 15:03:31 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:bd1da23d2d7dbbb1069acfed85885ced51c685c08a3742e1c9b3ea3ffb09b9e7: no such file or directory 
[36mINFO[0m[0001] Downloading base image open-liberty:javaee8-java12 
2019/09/24 15:03:32 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] Using files from context: [/workspace/source/src/main/liberty/config] 
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/getting-started.war] 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] Using files from context: [/workspace/source/src/main/liberty/config] 
[36mINFO[0m[0002] COPY src/main/liberty/config/ /opt/ol/wlp/usr/servers/defaultServer/ 
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/getting-started.war] 
[36mINFO[0m[0002] COPY target/*.war /opt/ol/wlp/usr/servers/defaultServer/apps/ 
[36mINFO[0m[0002] Taking snapshot of files...                  
2019/09/24 15:03:34 existing blob: sha256:58dbcfbb46c1c4f7a84bb599d3a25a71af7c801150fc36956a5d9631115aba07
2019/09/24 15:03:34 existing blob: sha256:d83811f270d56d34a208f721f3dbf1b9242d1900ad8981fc7071339681998a31
2019/09/24 15:03:34 existing blob: sha256:3ab6e950cac5ee4dca030b691fbcbd473608dc0c30326246c59495131a33270d
2019/09/24 15:03:34 existing blob: sha256:7fc152dfb3a6b5c9a436b49ff6cd72ed7eb5f1fd349128b50ee04c3c5c2355fb
2019/09/24 15:03:34 existing blob: sha256:5667fdb72017d1fb364744ca1abf7b6f3bbe9c98c3786f294a461c2866db69ab
2019/09/24 15:03:34 existing blob: sha256:95e6604b1f9944d93edf2c5e09954509053b74f45b0c3ac3ee844002100a1ca8
2019/09/24 15:03:34 existing blob: sha256:5711ffff20e96702f47079acefa4eed26159baf67d15ec507122f6d32a3faa8a
2019/09/24 15:03:34 existing blob: sha256:dc9b3a9a996b08c37504d908d52276e23f4d52eab7adde52bbd79fc6f504f8cf
2019/09/24 15:03:34 existing blob: sha256:68868ee752fbfa08d88a682921762e51a290556b54359d0a50926b3d2152b395
2019/09/24 15:03:34 existing blob: sha256:77a4501cce4a66344d852415e2749b763057aabec4a35b8db5fb041480e7c6c0
2019/09/24 15:03:34 existing blob: sha256:ee671aafb583e2321880e275c94d49a49185006730e871435cd851f42d2a775d
2019/09/24 15:03:37 pushed blob: sha256:34bb269e3ea3a639f8845a37a4248f7c6fa738af4b0795418495d0fa6ac9500d
2019/09/24 15:03:37 pushed blob: sha256:75825b92ad729c207c6023a38414d30506b5ca080f9277487a9ca292cf762f3b
2019/09/24 15:03:37 pushed blob: sha256:e8f890b8c15c5540978aeaa0c94343e8db9f970c86a300fba2ea3f510d4afbea
2019/09/24 15:03:39 gcr.io/testing-215306/jenkins-x-quickstart-liberty-2:1.0.18: digest: sha256:157ab2430b8a28dbd008ea0acbe4745bed8cd45e26271ac6ea0014dd96fe4028 size: 2374

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/jenkins-x-quickstart-liberty-2 to an unshallow repository
Generating change log from git ref 4821e9e0903fb9b62b9341f5f54068d93a60b4f7 => 8bde7c060c1002958eb0292a4b8e199b3d6cb18a
Associating user x-0 in users.jenkins.io with email git@sebastian-daschner.de to git GitProvider user with login -0 as emails match
Adding label jenkins.io/git-github-userid=-0 to user x-0 in users.jenkins.io
WARNING: Failed to enrich commit 5d7551303e9fafdc56469cc471844fa1be387a8a with issues: User.jenkins.io "x-0" is invalid: metadata.labels: Invalid value: "-0": a valid label must be an empty string or consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character (e.g. 'MyValue',  or 'my_value',  or '12345', regex used for validation is '(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?')
Associating user x-0 in users.jenkins.io with email git@sebastian-daschner.de to git GitProvider user with login -0 as emails match
Adding label jenkins.io/git-github-userid=-0 to user x-0 in users.jenkins.io
WARNING: Failed to enrich commit 5d7551303e9fafdc56469cc471844fa1be387a8a with issues: User.jenkins.io "x-0" is invalid: metadata.labels: Invalid value: "-0": a valid label must be an empty string or consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character (e.g. 'MyValue',  or 'my_value',  or '12345', regex used for validation is '(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?')
Finding issues in commit messages using git format
WARNING: No release found for *********/jenkins-x-quickstart-liberty-2 and tag v1.0.18 so creating a new release
Updated the release information at https://github.com/*********/jenkins-x-quickstart-liberty-2/releases/tag/v1.0.18
generated: /workspace/source/charts/jenkins-x-quickstart-liberty-2/templates/release.yaml
Created Release jenkins-x-quickstart-liberty-2-1-0-18 resource in namespace **
Updating PipelineActivity *********-jenkins-x-quickstart-liberty-2-master-14 with version 1.0.18
Updated PipelineActivities *********-jenkins-x-quickstart-liberty-2-master-14 with release notes URL: https://github.com/*********/jenkins-x-quickstart-liberty-2/releases/tag/v1.0.18

Showing logs for build [32msdaschner-jenkins-x-quickstart-84n69-14[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
error: failed to build dependencies for chart from directory '.': failed to build the dependencies of chart '.': failed to run 'helm dependency build' command in directory '.', output: 'Error: chart metadata (Chart.yaml) missing'
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-promote-helm-release'. The execution of the pipeline has stopped.[0m
